"use client";

import Link from "next/link";
import { Drawer } from "vaul";
import clsx from "clsx";
import Image from "next/image";
import { Badge } from "@vapor-ui/core";
import Bookmark from "./bookmark";
import IcoBookmarkBefore from "@/app/_assets/icons/ico-bookmark-before.svg";
import { Line } from "react-chartjs-2";
import {
  Chart as ChartJS,
  CategoryScale,
  LinearScale,
  PointElement,
  LineElement,
  Title,
  Tooltip,
  Legend,
} from "chart.js";
import { ShortsData } from "@/app/map/_types/map";
import dayjs from "dayjs";
import utc from "dayjs/plugin/utc";
import timezone from "dayjs/plugin/timezone";

dayjs.extend(utc);
dayjs.extend(timezone);

ChartJS.register(
  CategoryScale,
  LinearScale,
  PointElement,
  LineElement,
  Title,
  Tooltip,
  Legend
);

export default function PlaceBottomSheets({
  snap,
  location,
}: {
  snap: number | string | null;
  location: ShortsData | null;
}) {
  const borderStyle = "border-[#E5E5EA] my-4 w-full";

  // 유튜브 URL에서 비디오 ID 추출
  const getYouTubeVideoId = (url: string) => {
    const videoIdMatch = url.match(
      /(?:youtube\.com\/shorts\/|youtu\.be\/|youtube\.com\/watch\?v=)([^&\n?#]+)/
    );
    return videoIdMatch ? videoIdMatch[1] : null;
  };

  // 유튜브 썸네일 URL 생성
  const getYouTubeThumbnail = (url: string) => {
    const videoId = getYouTubeVideoId(url);
    if (!videoId) return IcoBookmarkBefore; // 기본 이미지로 fallback

    return `https://img.youtube.com/vi/${videoId}/maxresdefault.jpg`;
  };

  const labels = ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"];
  const datapoints = [12, 18, 20, 10, 8, 12, 18];
  const data = {
    labels: labels,
    datasets: [
      {
        data: datapoints,
        borderColor: "#e0590b",
        backgroundColor: "#e0590b",
        fill: true,
        tension: 0.4,
      },
    ],
  };

  const chartOptions = {
    responsive: true,
    plugins: {
      legend: {
        display: false,
      },
      title: {
        display: false,
        text: "traffic chart",
      },
    },
    interaction: {
      intersect: false,
    },
    scales: {
      x: {
        display: true,
        title: {
          display: false,
        },
      },
      y: {
        min: 0,
        max: 24,
        reverse: true,
        ticks: { stepSize: 6 },
      },
    },
  };

  const checkIsOpen = (openingHours: string[]) => {
    if (!openingHours || openingHours.length === 0) return false;

    const now = dayjs().tz("Asia/Seoul");
    const currentTime = now.format("HH:mm");
    // const currentDay = now.day(); // 0: 일요일, 1: 월요일, ...

    // 첫 번째 영업시간 사용 (예: "08:00-21:00")
    const hours = openingHours[0];
    const [openTime, closeTime] = hours.split("-");

    // 현재 시간이 영업시간 내에 있는지 확인
    const isOpen = currentTime >= openTime && currentTime <= closeTime;

    return isOpen;
  };

  // const getOpenStatus = (openingHours: string[]) => {
  //   if (!openingHours || openingHours.length === 0) {
  //     return { isOpen: false, status: "영업시간 정보 없음" };
  //   }

  //   const now = dayjs().tz("Asia/Seoul");
  //   const currentTime = now.format("HH:mm");
  //   const hours = openingHours[0];
  //   const [openTime, closeTime] = hours.split("-");

  //   const isOpen = currentTime >= openTime && currentTime <= closeTime;

  //   return {
  //     isOpen,
  //     status: isOpen ? "Open" : "Closed",
  //     currentTime,
  //     openTime,
  //     closeTime,
  //   };
  // };

  const isOpen = checkIsOpen(location?.openingHours ?? []);

  return (
    <Drawer.Content
      data-testid="content"
      className="fixed flex flex-col bg-white border border-gray-200 border-b-none rounded-t-4xl bottom-0 left-1/2 right-0 h-full max-h-[90%] mx-[-1px] max-w-[393px] w-full -translate-x-1/2 z-20 shadow-[0_-1px_5px_0_rgba(0,0,0,0.1)]"
    >
      <div
        aria-hidden
        className="mx-auto w-12 h-1.5 flex-shrink-0 rounded-full bg-gray-300 my-4"
      />
      <div
        className={clsx(
          "max-w-md mx-auto w-full py-4 border-t border-[#E5E5EA]",
          {
            "overflow-y-auto": snap === 1,
            "overflow-hidden": snap !== 1,
          }
        )}
      >
        <div className="flex items-center gap-3 px-4">
          <Image
            src={
              location?.shortsUrl
                ? getYouTubeThumbnail(location.shortsUrl)
                : IcoBookmarkBefore
            }
            alt="place image"
            width={120}
            height={120}
            className="border-primary-700 border-2 w-30 h-30 rounded-full object-cover"
            onError={(e) => {
              // 썸네일 로드 실패 시 기본 이미지로 fallback
              const target = e.target as HTMLImageElement;
              target.src = IcoBookmarkBefore;
            }}
          />
          <ul className="flex flex-col gap-1 w-full">
            <li>
              <div className="flex items-center justify-between">
                <Drawer.Title className="text-2xl text-gray-900 font-bold w-8/10 overflow-hidden text-ellipsis whitespace-nowrap">
                  {location?.title || "장소명"}
                </Drawer.Title>
                {/* TODO 임시 props */}
                <Bookmark isLiked={false} />
              </div>
            </li>
            <li>
              <Badge
                shape="pill"
                className="p-2 bg-primary-50 text-primary-700"
              >
                {location?.categoryHigh?.toUpperCase()}
              </Badge>
              {location?.categoryMiddle?.[0] && (
                <>
                  <span className="mx-1 text-gray-400 text-lg">·</span>
                  <Badge
                    shape="pill"
                    className="p-1 bg-primary-50 text-primary-700"
                  >
                    {location.categoryMiddle[0].toUpperCase()}
                  </Badge>
                </>
              )}
            </li>
            <li className="flex gap-6">
              <div className="flex items-center">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="15"
                  height="15"
                  viewBox="0 0 15 15"
                  fill="none"
                >
                  <path
                    d="M7.52207 12.8512C7.3568 12.8512 7.21825 12.7953 7.10645 12.6835C6.99464 12.5717 6.93874 12.4331 6.93874 12.2679V11.597C6.50124 11.4998 6.11721 11.3297 5.78666 11.0866C5.4561 10.8436 5.18874 10.5033 4.98457 10.0658C4.91652 9.92967 4.91409 9.78627 4.97728 9.63557C5.04048 9.48488 5.15471 9.3755 5.31999 9.30745C5.4561 9.24911 5.59707 9.25154 5.74291 9.31474C5.88874 9.37793 6.00055 9.48245 6.07832 9.62828C6.2436 9.91995 6.45263 10.1411 6.70541 10.2918C6.95818 10.4425 7.26929 10.5179 7.63874 10.5179C8.03735 10.5179 8.3752 10.4279 8.65228 10.2481C8.92936 10.0682 9.06791 9.7887 9.06791 9.40953C9.06791 9.06925 8.96096 8.79946 8.74707 8.60015C8.53318 8.40085 8.03735 8.17481 7.25957 7.92203C6.42346 7.65953 5.84985 7.34599 5.53874 6.9814C5.22763 6.61682 5.07207 6.17203 5.07207 5.64703C5.07207 5.01509 5.27624 4.52411 5.68457 4.17411C6.09291 3.82411 6.51096 3.62481 6.93874 3.5762V2.93453C6.93874 2.76925 6.99464 2.63071 7.10645 2.5189C7.21825 2.4071 7.3568 2.3512 7.52207 2.3512C7.68735 2.3512 7.82589 2.4071 7.9377 2.5189C8.0495 2.63071 8.10541 2.76925 8.10541 2.93453V3.5762C8.47485 3.63453 8.79568 3.75363 9.06791 3.93349C9.34013 4.11335 9.56374 4.33453 9.73874 4.59703C9.82624 4.72342 9.84325 4.86439 9.78978 5.01995C9.73631 5.1755 9.62693 5.28731 9.46166 5.35536C9.32555 5.4137 9.18457 5.41613 9.03874 5.36265C8.89291 5.30918 8.75679 5.21439 8.63041 5.07828C8.50402 4.94217 8.35575 4.83765 8.18561 4.76474C8.01548 4.69182 7.80402 4.65536 7.55124 4.65536C7.12346 4.65536 6.79777 4.75015 6.57416 4.93974C6.35055 5.12932 6.23874 5.36509 6.23874 5.64703C6.23874 5.96786 6.38457 6.22064 6.67624 6.40536C6.96791 6.59009 7.47346 6.78453 8.19291 6.9887C8.86374 7.18314 9.37173 7.49182 9.71686 7.91474C10.062 8.33766 10.2346 8.8262 10.2346 9.38036C10.2346 10.0706 10.0304 10.5956 9.62207 10.9554C9.21374 11.3151 8.70818 11.5387 8.10541 11.6262V12.2679C8.10541 12.4331 8.0495 12.5717 7.9377 12.6835C7.82589 12.7953 7.68735 12.8512 7.52207 12.8512Z"
                    fill="black"
                  />
                </svg>
                <span className="text-xs">
                  {location?.pricePerPerson?.[0] || 0}~
                  {location?.pricePerPerson?.[1] || 0}
                </span>
              </div>
              <div className="flex items-center">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="15"
                  height="15"
                  viewBox="0 0 15 15"
                  fill="none"
                >
                  <g clipPath="url(#clip0_142_1693)">
                    <path
                      d="M8.4587 3.80953C9.09453 3.80953 9.62536 3.27286 9.62536 2.64286C9.62536 2.33344 9.50245 2.0367 9.28366 1.81791C9.06486 1.59911 8.76812 1.4762 8.4587 1.4762C7.8112 1.4762 7.29203 1.98953 7.29203 2.64286C7.29203 3.27286 7.8112 3.80953 8.4587 3.80953ZM5.69058 11.7756C6.0595 11.8484 6.41942 11.6147 6.50311 11.2481L6.9362 9.3512L8.16703 10.5179V13.4345C8.16703 13.7567 8.4282 14.0179 8.75036 14.0179C9.07253 14.0179 9.3337 13.7567 9.3337 13.4345V9.9893C9.3337 9.76813 9.24278 9.55669 9.08226 9.40454L8.10286 8.4762L8.4587 6.7262C8.8584 7.18419 9.35153 7.5513 9.90492 7.80284C10.2808 7.97369 10.6785 8.08853 11.0855 8.14464C11.4047 8.18863 11.667 7.92336 11.667 7.6012C11.667 7.27903 11.4034 7.02395 11.087 6.9635C10.2347 6.8007 9.5406 6.28594 9.15286 5.6062L8.56953 4.68453C8.3362 4.32286 7.9862 4.1012 7.5837 4.1012C7.40286 4.1012 7.29203 4.14786 7.1112 4.14786L4.38018 5.30552C4.20045 5.38171 4.0837 5.558 4.0837 5.75322V7.6012C4.0837 7.92336 4.34487 8.18453 4.66703 8.18453C4.9892 8.18453 5.25036 7.92336 5.25036 7.6012V6.18953L6.29453 5.7812L5.3612 10.5179L3.08608 10.0536C2.76435 9.98789 2.45053 10.1962 2.38613 10.5182C2.32179 10.8399 2.53095 11.1527 2.85284 11.2162L5.69058 11.7756Z"
                      fill="black"
                    />
                  </g>
                  <defs>
                    <clipPath id="clip0_142_1693">
                      <rect
                        width="14"
                        height="14"
                        fill="white"
                        transform="translate(0.583984 0.601196)"
                      />
                    </clipPath>
                  </defs>
                </svg>
                <span className="text-xs">
                  {location?.averageRating || "0"}
                </span>
              </div>
            </li>
            <li className="flex gap-1 items-center">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="14"
                height="15"
                viewBox="0 0 14 15"
                fill="none"
              >
                <path
                  d="M7.58366 7.36785V5.26785C7.58366 5.10257 7.52776 4.96403 7.41595 4.85223C7.30414 4.74042 7.1656 4.68452 7.00032 4.68452C6.83505 4.68452 6.69651 4.74042 6.5847 4.85223C6.47289 4.96403 6.41699 5.10257 6.41699 5.26785V7.5866C6.41699 7.66438 6.43157 7.73973 6.46074 7.81264C6.48991 7.88556 6.53366 7.95119 6.59199 8.00952L8.51699 9.93452C8.62394 10.0415 8.76005 10.0949 8.92532 10.0949C9.0906 10.0949 9.22671 10.0415 9.33366 9.93452C9.4406 9.82757 9.49407 9.69146 9.49407 9.52619C9.49407 9.36091 9.4406 9.2248 9.33366 9.11785L7.58366 7.36785ZM7.00032 13.4345C6.19338 13.4345 5.43505 13.2814 4.72533 12.9751C4.0156 12.6689 3.39824 12.2533 2.87324 11.7283C2.34824 11.2033 1.93262 10.5859 1.62637 9.87619C1.32012 9.16646 1.16699 8.40813 1.16699 7.60119C1.16699 6.79424 1.32012 6.03591 1.62637 5.32619C1.93262 4.61646 2.34824 3.9991 2.87324 3.4741C3.39824 2.9491 4.0156 2.53348 4.72533 2.22723C5.43505 1.92098 6.19338 1.76785 7.00032 1.76785C7.80727 1.76785 8.5656 1.92098 9.27532 2.22723C9.98505 2.53348 10.6024 2.9491 11.1274 3.4741C11.6524 3.9991 12.068 4.61646 12.3743 5.32619C12.6805 6.03591 12.8337 6.79424 12.8337 7.60119C12.8337 8.40813 12.6805 9.16646 12.3743 9.87619C12.068 10.5859 11.6524 11.2033 11.1274 11.7283C10.6024 12.2533 9.98505 12.6689 9.27532 12.9751C8.5656 13.2814 7.80727 13.4345 7.00032 13.4345ZM7.00032 12.2679C8.29338 12.2679 9.39442 11.8133 10.3034 10.9043C11.2125 9.99528 11.667 8.89424 11.667 7.60119C11.667 6.30813 11.2125 5.20709 10.3034 4.29806C9.39442 3.38903 8.29338 2.93452 7.00032 2.93452C5.70727 2.93452 4.60623 3.38903 3.6972 4.29806C2.78817 5.20709 2.33366 6.30813 2.33366 7.60119C2.33366 8.89424 2.78817 9.99528 3.6972 10.9043C4.60623 11.8133 5.70727 12.2679 7.00032 12.2679Z"
                  fill="black"
                />
              </svg>
              <span className="text-xs">
                {location?.openingHours?.[0] || "no opening hours"}
              </span>
            </li>
          </ul>
        </div>

        <hr className={borderStyle} />

        <div className="flex flex-row gap-x-2 px-4">
          <a
            href={`tel:${location?.phoneNumber}`}
            className="w-1/2 h-12 flex items-center justify-center gap-2 bg-primary-700 text-white rounded-md"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="25"
              height="25"
              viewBox="0 0 25 25"
              fill="none"
            >
              <path
                d="M19.9088 20.9762C17.8921 20.8262 15.9796 20.3304 14.1713 19.4887C12.363 18.647 10.7421 17.5095 9.3088 16.0762C7.87546 14.6429 6.74213 13.022 5.90879 11.2137C5.07546 9.40536 4.58379 7.49286 4.43379 5.47619C4.40046 5.12619 4.50463 4.82203 4.7463 4.56369C4.98796 4.30536 5.28379 4.17619 5.6338 4.17619H9.0338C9.31713 4.17619 9.56296 4.26369 9.7713 4.43869C9.97963 4.61369 10.1171 4.83453 10.1838 5.10119L10.7838 7.77619C10.8171 7.99286 10.8046 8.20119 10.7463 8.40119C10.688 8.60119 10.5921 8.76786 10.4588 8.90119L8.0338 11.3512C8.36713 11.9845 8.75046 12.5929 9.1838 13.1762C9.61713 13.7595 10.1005 14.3095 10.6338 14.8262C11.1338 15.3262 11.6671 15.7887 12.2338 16.2137C12.8005 16.6387 13.4005 17.0179 14.0338 17.3512L16.5088 14.9512C16.6421 14.8179 16.8088 14.722 17.0088 14.6637C17.2088 14.6054 17.4171 14.5929 17.6338 14.6262L20.3088 15.2012C20.5921 15.2845 20.8171 15.4304 20.9838 15.6387C21.1505 15.847 21.2338 16.0929 21.2338 16.3762V19.7762C21.2338 20.1262 21.1005 20.422 20.8338 20.6637C20.5671 20.9054 20.2588 21.0095 19.9088 20.9762Z"
                fill="white"
              />
            </svg>

            <span>CALL</span>
          </a>
          <a
            href={`https://www.google.com/maps?q=${location?.address?.trim()}`}
            target="_blank"
            rel="noopener noreferrer"
            className="w-1/2 h-12 flex items-center justify-center gap-2 bg-primary-700 rounded-md text-white"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="25"
              height="25"
              viewBox="0 0 25 25"
              fill="none"
            >
              <g clipPath="url(#clip0_142_3563)">
                <path
                  d="M10.7126 1.50426C11.8842 0.332706 13.7842 0.332706 14.9558 1.50426L23.9314 10.4798C25.103 11.6514 25.103 13.5515 23.9314 14.723L14.9558 23.6986C13.7842 24.8702 11.8842 24.8702 10.7126 23.6986L1.73608 14.723C0.564554 13.5515 0.564515 11.6514 1.73608 10.4798L10.7126 1.50426ZM14.7888 10.9955H8.83765V16.5834H10.488V13.0394H14.7888V15.1595L18.0818 11.8968L14.7888 8.6195V10.9955Z"
                  fill="white"
                />
              </g>
              <defs>
                <clipPath id="clip0_142_3563">
                  <rect
                    width="24"
                    height="24"
                    fill="white"
                    transform="translate(0.833984 0.601196)"
                  />
                </clipPath>
              </defs>
            </svg>
            <span>DIRECTIONS</span>
          </a>
        </div>

        <hr className={borderStyle} />

        {/* 주소 */}
        <div className="px-4 flex items-start gap-2">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="17"
            viewBox="0 0 16 17"
            fill="none"
          >
            <path
              d="M7.99935 13.5012C9.35491 12.2567 10.3605 11.1262 11.016 10.1095C11.6716 9.09284 11.9993 8.19006 11.9993 7.40118C11.9993 6.19006 11.6132 5.1984 10.841 4.42618C10.0688 3.65395 9.12157 3.26784 7.99935 3.26784C6.87713 3.26784 5.9299 3.65395 5.15768 4.42618C4.38546 5.1984 3.99935 6.19006 3.99935 7.40118C3.99935 8.19006 4.32713 9.09284 4.98268 10.1095C5.63824 11.1262 6.64379 12.2567 7.99935 13.5012ZM7.99935 14.8178C7.84379 14.8178 7.68824 14.7901 7.53268 14.7345C7.37713 14.679 7.23824 14.5956 7.11602 14.4845C6.39379 13.8178 5.7549 13.1678 5.19935 12.5345C4.64379 11.9012 4.1799 11.2873 3.80768 10.6928C3.43546 10.0984 3.15213 9.52618 2.95768 8.97618C2.76324 8.42618 2.66602 7.90118 2.66602 7.40118C2.66602 5.73451 3.20213 4.40673 4.27435 3.41784C5.34657 2.42895 6.58824 1.93451 7.99935 1.93451C9.41046 1.93451 10.6521 2.42895 11.7243 3.41784C12.7966 4.40673 13.3327 5.73451 13.3327 7.40118C13.3327 7.90118 13.2355 8.42618 13.041 8.97618C12.8466 9.52618 12.5632 10.0984 12.191 10.6928C11.8188 11.2873 11.3549 11.9012 10.7993 12.5345C10.2438 13.1678 9.6049 13.8178 8.88268 14.4845C8.76046 14.5956 8.62157 14.679 8.46602 14.7345C8.31046 14.7901 8.1549 14.8178 7.99935 14.8178ZM7.99935 8.60118C8.36602 8.60118 8.6799 8.47062 8.94102 8.20951C9.20213 7.9484 9.33268 7.63451 9.33268 7.26784C9.33268 6.90118 9.20213 6.58729 8.94102 6.32618C8.6799 6.06506 8.36602 5.93451 7.99935 5.93451C7.63268 5.93451 7.31879 6.06506 7.05768 6.32618C6.79657 6.58729 6.66602 6.90118 6.66602 7.26784C6.66602 7.63451 6.79657 7.9484 7.05768 8.20951C7.31879 8.47062 7.63268 8.60118 7.99935 8.60118Z"
              fill="black"
            />
          </svg>
          <span className="text-xs">
            52 Aewolbukseo-gil, Aewol-eup, 특별자치도, Jeju-si, Jeju- do
          </span>
        </div>

        <hr className={borderStyle} />

        {/* 영업시간 */}
        <div className="px-4 flex items-center gap-2">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="17"
            viewBox="0 0 16 17"
            fill="none"
          >
            <path
              d="M8.66732 8.33454V5.93454C8.66732 5.74565 8.60343 5.58732 8.47565 5.45954C8.34787 5.33176 8.18954 5.26787 8.00065 5.26787C7.81176 5.26787 7.65343 5.33176 7.52565 5.45954C7.39787 5.58732 7.33398 5.74565 7.33398 5.93454V8.58454C7.33398 8.67343 7.35065 8.75954 7.38398 8.84287C7.41732 8.92621 7.46732 9.00121 7.53398 9.06787L9.73398 11.2679C9.85621 11.3901 10.0118 11.4512 10.2007 11.4512C10.3895 11.4512 10.5451 11.3901 10.6673 11.2679C10.7895 11.1456 10.8507 10.9901 10.8507 10.8012C10.8507 10.6123 10.7895 10.4568 10.6673 10.3345L8.66732 8.33454ZM8.00065 15.2679C7.07843 15.2679 6.21176 15.0929 5.40065 14.7429C4.58954 14.3929 3.88398 13.9179 3.28398 13.3179C2.68398 12.7179 2.20898 12.0123 1.85898 11.2012C1.50898 10.3901 1.33398 9.52343 1.33398 8.60121C1.33398 7.67898 1.50898 6.81232 1.85898 6.00121C2.20898 5.1901 2.68398 4.48454 3.28398 3.88454C3.88398 3.28454 4.58954 2.80954 5.40065 2.45954C6.21176 2.10954 7.07843 1.93454 8.00065 1.93454C8.92287 1.93454 9.78954 2.10954 10.6007 2.45954C11.4118 2.80954 12.1173 3.28454 12.7173 3.88454C13.3173 4.48454 13.7923 5.1901 14.1423 6.00121C14.4923 6.81232 14.6673 7.67898 14.6673 8.60121C14.6673 9.52343 14.4923 10.3901 14.1423 11.2012C13.7923 12.0123 13.3173 12.7179 12.7173 13.3179C12.1173 13.9179 11.4118 14.3929 10.6007 14.7429C9.78954 15.0929 8.92287 15.2679 8.00065 15.2679ZM8.00065 13.9345C9.47843 13.9345 10.7368 13.4151 11.7757 12.3762C12.8145 11.3373 13.334 10.079 13.334 8.60121C13.334 7.12343 12.8145 5.8651 11.7757 4.82621C10.7368 3.78732 9.47843 3.26787 8.00065 3.26787C6.52287 3.26787 5.26454 3.78732 4.22565 4.82621C3.18676 5.8651 2.66732 7.12343 2.66732 8.60121C2.66732 10.079 3.18676 11.3373 4.22565 12.3762C5.26454 13.4151 6.52287 13.9345 8.00065 13.9345Z"
              fill="black"
            />
          </svg>
          <span className="text-xs font-bold text-primary-700">
            {isOpen ? "Open" : "Closed"}
          </span>
          <span className="text-gray-400 text-lg">·</span>
          <span className="text-xs">
            Opens {location?.openingHours?.[0].split("-")?.[0]}
          </span>
        </div>

        <hr className={borderStyle} />

        {/* 금액 */}
        <div className="px-4 flex items-center gap-2">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="17"
            viewBox="0 0 16 17"
            fill="none"
          >
            <path
              d="M7.9312 14.6012C7.74231 14.6012 7.58397 14.5373 7.4562 14.4095C7.32842 14.2818 7.26453 14.1234 7.26453 13.9345V13.1679C6.76453 13.0568 6.32564 12.8623 5.94786 12.5845C5.57009 12.3068 5.26453 11.9179 5.0312 11.4179C4.95342 11.2623 4.95064 11.0984 5.02286 10.9262C5.09509 10.754 5.22564 10.629 5.41453 10.5512C5.57009 10.4845 5.7312 10.4873 5.89786 10.5595C6.06453 10.6318 6.19231 10.7512 6.2812 10.9179C6.47009 11.2512 6.70897 11.504 6.99786 11.6762C7.28675 11.8484 7.64231 11.9345 8.06453 11.9345C8.52009 11.9345 8.9062 11.8318 9.22286 11.6262C9.53953 11.4206 9.69786 11.1012 9.69786 10.6679C9.69786 10.279 9.57564 9.97064 9.3312 9.74286C9.08675 9.51509 8.52009 9.25675 7.6312 8.96786C6.67564 8.66786 6.02009 8.30953 5.66453 7.89286C5.30897 7.4762 5.1312 6.96786 5.1312 6.36786C5.1312 5.64564 5.36453 5.08453 5.8312 4.68453C6.29786 4.28453 6.77564 4.05675 7.26453 4.0012V3.26786C7.26453 3.07897 7.32842 2.92064 7.4562 2.79286C7.58397 2.66509 7.74231 2.6012 7.9312 2.6012C8.12009 2.6012 8.27842 2.66509 8.4062 2.79286C8.53397 2.92064 8.59786 3.07897 8.59786 3.26786V4.0012C9.02009 4.06786 9.38675 4.20397 9.69786 4.40953C10.009 4.61509 10.2645 4.86786 10.4645 5.16786C10.5645 5.31231 10.584 5.47342 10.5229 5.6512C10.4618 5.82897 10.3368 5.95675 10.1479 6.03453C9.99231 6.1012 9.8312 6.10397 9.66453 6.04286C9.49786 5.98175 9.34231 5.87342 9.19786 5.71786C9.05342 5.56231 8.88397 5.44286 8.68953 5.35953C8.49509 5.2762 8.25342 5.23453 7.96453 5.23453C7.47564 5.23453 7.10342 5.34286 6.84786 5.55953C6.59231 5.7762 6.46453 6.04564 6.46453 6.36786C6.46453 6.73453 6.6312 7.02342 6.96453 7.23453C7.29786 7.44564 7.87564 7.66786 8.69786 7.9012C9.46453 8.12342 10.0451 8.4762 10.4395 8.95953C10.834 9.44286 11.0312 10.0012 11.0312 10.6345C11.0312 11.4234 10.7979 12.0234 10.3312 12.4345C9.86453 12.8456 9.28675 13.1012 8.59786 13.2012V13.9345C8.59786 14.1234 8.53397 14.2818 8.4062 14.4095C8.27842 14.5373 8.12009 14.6012 7.9312 14.6012Z"
              fill="black"
            />
          </svg>
          <span className="text-xs">
            {location?.pricePerPerson?.[0] ?? 0}-
            {location?.pricePerPerson?.[1] ?? 0} per person
          </span>
        </div>

        <hr className={borderStyle} />

        {/* 링크 */}
        <div className="px-4 flex items-center gap-2">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="17"
            viewBox="0 0 16 17"
            fill="none"
          >
            <path
              d="M5 11.6012C4.17 11.6012 3.4625 11.3087 2.8775 10.7237C2.2925 10.1387 2 9.43117 2 8.60117C2 7.77117 2.2925 7.06367 2.8775 6.47867C3.4625 5.89367 4.17 5.60117 5 5.60117H6.8C6.97 5.60117 7.1125 5.65867 7.2275 5.77367C7.3425 5.88867 7.4 6.03117 7.4 6.20117C7.4 6.37117 7.3425 6.51367 7.2275 6.62867C7.1125 6.74367 6.97 6.80117 6.8 6.80117H5C4.5 6.80117 4.075 6.97617 3.725 7.32617C3.375 7.67617 3.2 8.10117 3.2 8.60117C3.2 9.10117 3.375 9.52617 3.725 9.87617C4.075 10.2262 4.5 10.4012 5 10.4012H6.8C6.97 10.4012 7.1125 10.4587 7.2275 10.5737C7.3425 10.6887 7.4 10.8312 7.4 11.0012C7.4 11.1712 7.3425 11.3137 7.2275 11.4287C7.1125 11.5437 6.97 11.6012 6.8 11.6012H5ZM6.2 9.20117C6.03 9.20117 5.8875 9.14367 5.7725 9.02867C5.6575 8.91367 5.6 8.77117 5.6 8.60117C5.6 8.43117 5.6575 8.28867 5.7725 8.17367C5.8875 8.05867 6.03 8.00117 6.2 8.00117H9.8C9.97 8.00117 10.1125 8.05867 10.2275 8.17367C10.3425 8.28867 10.4 8.43117 10.4 8.60117C10.4 8.77117 10.3425 8.91367 10.2275 9.02867C10.1125 9.14367 9.97 9.20117 9.8 9.20117H6.2ZM9.2 11.6012C9.03 11.6012 8.8875 11.5437 8.7725 11.4287C8.6575 11.3137 8.6 11.1712 8.6 11.0012C8.6 10.8312 8.6575 10.6887 8.7725 10.5737C8.8875 10.4587 9.03 10.4012 9.2 10.4012H11C11.5 10.4012 11.925 10.2262 12.275 9.87617C12.625 9.52617 12.8 9.10117 12.8 8.60117C12.8 8.10117 12.625 7.67617 12.275 7.32617C11.925 6.97617 11.5 6.80117 11 6.80117H9.2C9.03 6.80117 8.8875 6.74367 8.7725 6.62867C8.6575 6.51367 8.6 6.37117 8.6 6.20117C8.6 6.03117 8.6575 5.88867 8.7725 5.77367C8.8875 5.65867 9.03 5.60117 9.2 5.60117H11C11.83 5.60117 12.5375 5.89367 13.1225 6.47867C13.7075 7.06367 14 7.77117 14 8.60117C14 9.43117 13.7075 10.1387 13.1225 10.7237C12.5375 11.3087 11.83 11.6012 11 11.6012H9.2Z"
              fill="black"
            />
          </svg>
          <Link
            href={location?.shortsUrl ?? "#"}
            target="_blank"
            rel="noopener noreferrer"
            className="text-xs"
          >
            youtube.com
          </Link>
        </div>

        <hr className={borderStyle} />

        {/* 주소 */}
        <div className="px-4 flex items-center gap-2">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="17"
            viewBox="0 0 16 17"
            fill="none"
          >
            <path
              d="M12.7172 14.1845C11.3728 14.0845 10.0978 13.754 8.89224 13.1929C7.68669 12.6317 6.60613 11.8734 5.65058 10.9179C4.69502 9.9623 3.94224 8.88452 3.39224 7.68452C2.84224 6.48452 2.51169 5.2123 2.40058 3.86786C2.37835 3.63452 2.44663 3.43175 2.60541 3.25952C2.76408 3.0873 2.96247 3.00119 3.20058 3.00119H5.46724C5.65613 3.00119 5.82002 3.05952 5.95891 3.17619C6.0978 3.29286 6.18947 3.44008 6.23391 3.61786L6.63391 5.38452C6.65613 5.52897 6.6478 5.66786 6.60891 5.80119C6.57002 5.93452 6.50613 6.04563 6.41724 6.13452L4.80058 7.76786C5.0228 8.19008 5.27835 8.59563 5.56724 8.98452C5.85613 9.37341 6.17819 9.73997 6.53341 10.0842C6.86708 10.4177 7.2228 10.7262 7.60058 11.0095C7.97835 11.2929 8.37835 11.5456 8.80058 11.7679L10.4506 10.1679C10.5395 10.079 10.6506 10.0151 10.7839 9.97619C10.9172 9.9373 11.0561 9.92897 11.2006 9.95119L12.9839 10.3345C13.1728 10.3901 13.3228 10.4873 13.4339 10.6262C13.545 10.7651 13.6006 10.929 13.6006 11.1179V13.3845C13.6006 13.6226 13.5117 13.821 13.3339 13.9797C13.1561 14.1385 12.9506 14.2067 12.7172 14.1845ZM4.25058 6.60119L5.41724 5.43452L5.13124 4.20119H3.63391C3.68947 4.62341 3.76724 5.03175 3.86724 5.42619C3.96724 5.82063 4.09502 6.2123 4.25058 6.60119ZM9.98391 12.3345C10.3739 12.4927 10.7714 12.6184 11.1764 12.7115C11.5814 12.8046 11.9895 12.879 12.4006 12.9345V11.4345L11.1506 11.1679L9.98391 12.3345Z"
              fill="black"
            />
          </svg>
          <a href="tel:000" className="text-xs">
            064-799-8585
          </a>
        </div>

        <div className="h-1 bg-gray-100 w-full my-3.5" />

        <div>
          <div className="px-4 flex items-center gap-2">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="17"
              viewBox="0 0 16 17"
              fill="none"
            >
              <path
                d="M7.99935 8.60119C7.26602 8.60119 6.63824 8.34008 6.11602 7.81785C5.59379 7.29563 5.33268 6.66785 5.33268 5.93452C5.33268 5.20119 5.59379 4.57341 6.11602 4.05119C6.63824 3.52896 7.26602 3.26785 7.99935 3.26785C8.73268 3.26785 9.36046 3.52896 9.88268 4.05119C10.4049 4.57341 10.666 5.20119 10.666 5.93452C10.666 6.66785 10.4049 7.29563 9.88268 7.81785C9.36046 8.34008 8.73268 8.60119 7.99935 8.60119ZM2.66602 12.6012V12.0679C2.66602 11.6901 2.76324 11.3429 2.95768 11.0262C3.15213 10.7095 3.41046 10.4679 3.73268 10.3012C4.42157 9.95674 5.12157 9.69841 5.83268 9.52619C6.54379 9.35396 7.26602 9.26785 7.99935 9.26785C8.73268 9.26785 9.45491 9.35396 10.166 9.52619C10.8771 9.69841 11.5771 9.95674 12.266 10.3012C12.5882 10.4679 12.8466 10.7095 13.041 11.0262C13.2355 11.3429 13.3327 11.6901 13.3327 12.0679V12.6012C13.3327 12.9679 13.2021 13.2817 12.941 13.5429C12.6799 13.804 12.366 13.9345 11.9993 13.9345H3.99935C3.63268 13.9345 3.31879 13.804 3.05768 13.5429C2.79657 13.2817 2.66602 12.9679 2.66602 12.6012ZM3.99935 12.6012H11.9993V12.0679C11.9993 11.9456 11.9688 11.8345 11.9077 11.7345C11.8466 11.6345 11.766 11.5567 11.666 11.5012C11.066 11.2012 10.4605 10.9762 9.84935 10.8262C9.23824 10.6762 8.62157 10.6012 7.99935 10.6012C7.37713 10.6012 6.76046 10.6762 6.14935 10.8262C5.53824 10.9762 4.93268 11.2012 4.33268 11.5012C4.23268 11.5567 4.15213 11.6345 4.09102 11.7345C4.0299 11.8345 3.99935 11.9456 3.99935 12.0679V12.6012ZM7.99935 7.26785C8.36602 7.26785 8.6799 7.1373 8.94102 6.87619C9.20213 6.61508 9.33268 6.30119 9.33268 5.93452C9.33268 5.56785 9.20213 5.25396 8.94102 4.99285C8.6799 4.73174 8.36602 4.60119 7.99935 4.60119C7.63268 4.60119 7.31879 4.73174 7.05768 4.99285C6.79657 5.25396 6.66602 5.56785 6.66602 5.93452C6.66602 6.30119 6.79657 6.61508 7.05768 6.87619C7.31879 7.1373 7.63268 7.26785 7.99935 7.26785Z"
                fill="black"
              />
            </svg>
            <span className="text-xs">Traffic</span>
          </div>
          <div className="mx-4 pt-4">
            <Line
              data={
                data as import("chart.js").ChartData<"line", number[], string>
              }
              options={chartOptions}
            />
          </div>
        </div>
      </div>
    </Drawer.Content>
  );
}
