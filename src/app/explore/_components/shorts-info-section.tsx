import { Badge } from "@vapor-ui/core";
import useShorts from "../_hooks/useShorts";
import ShortsBookmark from "./shorts-bookmark";
import DetailDrawerButton from "./detail-drawer-button";
import { ShortsPlace } from "../_apis/explore.interface";

interface ShortsInfoSectionProps {
  item: ShortsPlace;
}

export default function ShortsInfoSection({ item }: ShortsInfoSectionProps) {
  const { handleToggleBookmark } = useShorts();
  return (
    <div className="flex justify-between items-start w-full gap-[24px]">
      <div className="flex flex-col min-w-0 flex-1">
        <div className="flex gap-[8px] items-center">
          <div className="text-white text-[24px] font-bold leading-[36px]">
            {item.title}
          </div>
          <DetailDrawerButton />
        </div>
        <div className="text-white text-[16px] leading-[24px] text-ellipsis overflow-hidden whitespace-nowrap">
          {item.address}
        </div>
        <div className="mt-[8px] flex gap-[8px]">
          <Badge
            size="md"
            className="text-white bg-white/30 rounded-full flex items-center gap-[4px] backdrop-blur-md"
            color="hint"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="14"
              height="14"
              viewBox="0 0 14 14"
              fill="none"
            >
              <path
                d="M7.58366 6.76667V4.66667C7.58366 4.50139 7.52776 4.36285 7.41595 4.25104C7.30414 4.13924 7.1656 4.08333 7.00032 4.08333C6.83505 4.08333 6.69651 4.13924 6.5847 4.25104C6.47289 4.36285 6.41699 4.50139 6.41699 4.66667V6.98542C6.41699 7.06319 6.43157 7.13854 6.46074 7.21146C6.48991 7.28438 6.53366 7.35 6.59199 7.40833L8.51699 9.33333C8.62394 9.44028 8.76005 9.49375 8.92532 9.49375C9.0906 9.49375 9.22671 9.44028 9.33366 9.33333C9.4406 9.22639 9.49407 9.09028 9.49407 8.925C9.49407 8.75972 9.4406 8.62361 9.33366 8.51667L7.58366 6.76667ZM7.00032 12.8333C6.19338 12.8333 5.43505 12.6802 4.72533 12.374C4.0156 12.0677 3.39824 11.6521 2.87324 11.1271C2.34824 10.6021 1.93262 9.98472 1.62637 9.275C1.32012 8.56528 1.16699 7.80694 1.16699 7C1.16699 6.19306 1.32012 5.43472 1.62637 4.725C1.93262 4.01528 2.34824 3.39792 2.87324 2.87292C3.39824 2.34792 4.0156 1.93229 4.72533 1.62604C5.43505 1.31979 6.19338 1.16667 7.00032 1.16667C7.80727 1.16667 8.5656 1.31979 9.27532 1.62604C9.98505 1.93229 10.6024 2.34792 11.1274 2.87292C11.6524 3.39792 12.068 4.01528 12.3743 4.725C12.6805 5.43472 12.8337 6.19306 12.8337 7C12.8337 7.80694 12.6805 8.56528 12.3743 9.275C12.068 9.98472 11.6524 10.6021 11.1274 11.1271C10.6024 11.6521 9.98505 12.0677 9.27532 12.374C8.5656 12.6802 7.80727 12.8333 7.00032 12.8333ZM7.00032 11.6667C8.29338 11.6667 9.39442 11.2122 10.3034 10.3031C11.2125 9.3941 11.667 8.29306 11.667 7C11.667 5.70694 11.2125 4.6059 10.3034 3.69688C9.39442 2.78785 8.29338 2.33333 7.00032 2.33333C5.70727 2.33333 4.60623 2.78785 3.6972 3.69688C2.78817 4.6059 2.33366 5.70694 2.33366 7C2.33366 8.29306 2.78817 9.3941 3.6972 10.3031C4.60623 11.2122 5.70727 11.6667 7.00032 11.6667Z"
                fill="white"
              />
            </svg>
            {item.openingHours[0]}
          </Badge>
          <Badge
            size="md"
            className="text-white bg-white/30 rounded-full flex items-center gap-[4px] backdrop-blur-md"
            color="hint"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="14"
              height="14"
              viewBox="0 0 14 14"
              fill="none"
            >
              <path
                d="M5.16259 9.95951L7.00009 8.85117L8.83759 9.97409L8.35634 7.87409L9.97509 6.47409L7.84592 6.28451L7.00009 4.30117L6.15426 6.26992L4.02509 6.45951L5.64384 7.87409L5.16259 9.95951ZM7.00009 10.222L4.57926 11.6803C4.47231 11.7484 4.36051 11.7776 4.24384 11.7678C4.12717 11.7581 4.02509 11.7192 3.93759 11.6512C3.85009 11.5831 3.78203 11.498 3.73342 11.396C3.68481 11.2939 3.67509 11.1796 3.70426 11.0533L4.34592 8.29701L2.20217 6.44492C2.10495 6.35742 2.04419 6.25777 2.01988 6.14596C1.99558 6.03416 2.00287 5.92478 2.04176 5.81784C2.08065 5.71089 2.13898 5.62339 2.21676 5.55534C2.29453 5.48728 2.40148 5.44353 2.53759 5.42409L5.36676 5.17617L6.46051 2.58034C6.50912 2.46367 6.58447 2.37617 6.68655 2.31784C6.78863 2.25951 6.89315 2.23034 7.00009 2.23034C7.10704 2.23034 7.21155 2.25951 7.31363 2.31784C7.41572 2.37617 7.49106 2.46367 7.53967 2.58034L8.63342 5.17617L11.4626 5.42409C11.5987 5.44353 11.7056 5.48728 11.7834 5.55534C11.8612 5.62339 11.9195 5.71089 11.9584 5.81784C11.9973 5.92478 12.0046 6.03416 11.9803 6.14596C11.956 6.25777 11.8952 6.35742 11.798 6.44492L9.65426 8.29701L10.2959 11.0533C10.3251 11.1796 10.3154 11.2939 10.2668 11.396C10.2181 11.498 10.1501 11.5831 10.0626 11.6512C9.97509 11.7192 9.87301 11.7581 9.75634 11.7678C9.63967 11.7776 9.52787 11.7484 9.42092 11.6803L7.00009 10.222Z"
                fill="white"
              />
            </svg>
            {item.averageRating}
          </Badge>
        </div>
      </div>
      <ShortsBookmark
        isBookmarked={item.isBookmarked}
        onToggle={() => handleToggleBookmark(item.id)}
      />
    </div>
  );
}
