import clsx from "clsx";
import { Badge } from "@vapor-ui/core";

export default function TrafficBadge({
  trafficStatus,
}: {
  // TODO: API res에 맞춰서 type 수정
  trafficStatus: "high" | "middle" | "row";
}) {
  if (!trafficStatus) return null;

  const trafficBadgeMap = {
    high: {
      id: "HIGH",
      img: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="15"
          height="14"
          viewBox="0 0 15 14"
          fill="none"
        >
          <g clipPath="url(#clip0_229_1951)">
            <path
              d="M7.01879 1.39734C6.46184 1.39734 5.92769 1.61859 5.53387 2.01241C5.14004 2.40624 4.91879 2.94038 4.91879 3.49734C4.91879 4.05429 5.14004 4.58844 5.53387 4.98226C5.92769 5.37609 6.46184 5.59734 7.01879 5.59734C7.57575 5.59734 8.10989 5.37609 8.50372 4.98226C8.89754 4.58844 9.11879 4.05429 9.11879 3.49734C9.11879 2.94038 8.89754 2.40624 8.50372 2.01241C8.10989 1.61859 7.57575 1.39734 7.01879 1.39734ZM3.55589 6.99454C3.53209 7.10841 3.52019 7.22601 3.52019 7.34734V9.79734C3.51973 10.3055 3.63018 10.8077 3.84381 11.2688C4.05744 11.7299 4.36912 12.1389 4.75709 12.4671L4.63739 12.5021C4.28219 12.5974 3.9117 12.6218 3.54708 12.5739C3.18246 12.5259 2.83085 12.4067 2.51233 12.2228C2.19382 12.039 1.91464 11.7942 1.69073 11.5025C1.46683 11.2108 1.30259 10.8778 1.20739 10.5225L0.754491 8.83204C0.71882 8.69884 0.709734 8.55992 0.727754 8.42321C0.745773 8.2865 0.790544 8.15467 0.859511 8.03526C0.928477 7.91586 1.02029 7.8112 1.1297 7.72728C1.23912 7.64335 1.36399 7.5818 1.49719 7.54614L3.55589 6.99454ZM9.28329 12.4671C9.67127 12.1389 9.98294 11.7299 10.1966 11.2688C10.4102 10.8077 10.5206 10.3055 10.5202 9.79734V7.34734C10.5197 7.22601 10.5081 7.10841 10.4852 6.99454L12.5432 7.54614C12.8121 7.61832 13.0413 7.79432 13.1804 8.03546C13.3196 8.2766 13.3573 8.56313 13.2852 8.83204L12.8323 10.5225C12.7344 10.8878 12.5635 11.2295 12.3299 11.5269C12.0963 11.8243 11.8049 12.0714 11.4733 12.2531C11.1416 12.4348 10.7766 12.5475 10.4002 12.5842C10.0238 12.621 9.64386 12.5812 9.28329 12.4671ZM11.5688 2.79734C11.1047 2.79734 10.6595 2.98171 10.3314 3.3099C10.0032 3.63809 9.81879 4.08321 9.81879 4.54734C9.81879 5.01147 10.0032 5.45659 10.3314 5.78478C10.6595 6.11297 11.1047 6.29734 11.5688 6.29734C12.0329 6.29734 12.478 6.11297 12.8062 5.78478C13.1344 5.45659 13.3188 5.01147 13.3188 4.54734C13.3188 4.08321 13.1344 3.63809 12.8062 3.3099C12.478 2.98171 12.0329 2.79734 11.5688 2.79734ZM2.46879 2.79734C2.00466 2.79734 1.55954 2.98171 1.23135 3.3099C0.903166 3.63809 0.718791 4.08321 0.718791 4.54734C0.718791 5.01147 0.903166 5.45659 1.23135 5.78478C1.55954 6.11297 2.00466 6.29734 2.46879 6.29734C2.93292 6.29734 3.37804 6.11297 3.70623 5.78478C4.03442 5.45659 4.21879 5.01147 4.21879 4.54734C4.21879 4.08321 4.03442 3.63809 3.70623 3.3099C3.37804 2.98171 2.93292 2.79734 2.46879 2.79734ZM5.26879 6.29734C4.99031 6.29734 4.72324 6.40796 4.52633 6.60488C4.32942 6.80179 4.21879 7.06886 4.21879 7.34734V9.79734C4.21879 10.5399 4.51379 11.2521 5.03889 11.7772C5.56399 12.3023 6.27619 12.5973 7.01879 12.5973C7.7614 12.5973 8.47359 12.3023 8.99869 11.7772C9.52379 11.2521 9.81879 10.5399 9.81879 9.79734V7.34734C9.81879 7.06886 9.70817 6.80179 9.51125 6.60488C9.31434 6.40796 9.04727 6.29734 8.76879 6.29734H5.26879Z"
              fill="#E0590B"
            />
          </g>
          <defs>
            <clipPath id="clip0_229_1951">
              <rect
                width="14"
                height="14"
                fill="white"
                transform="translate(0.0195312 -0.00268555)"
              />
            </clipPath>
          </defs>
        </svg>
      ),
      color: "#e0590b",
    },
    middle: {
      id: "MIDDLE",
      img: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="12"
          height="12"
          viewBox="0 0 12 12"
          fill="none"
        >
          <path
            d="M3.60696 0.439727C3.05422 0.508073 2.55126 0.793197 2.20874 1.23237C1.86622 1.67155 1.71219 2.22881 1.78053 2.78155C1.84888 3.3343 2.134 3.83726 2.57318 4.17978C3.01236 4.5223 3.56962 4.67633 4.12236 4.60798C4.67511 4.53964 5.17806 4.25451 5.52058 3.81534C5.86311 3.37616 6.01714 2.8189 5.94879 2.26616C5.88044 1.71341 5.59532 1.21046 5.15614 0.867933C4.71697 0.525411 4.15971 0.371381 3.60696 0.439727ZM2.47149 5.51744C2.19511 5.55162 1.94364 5.69418 1.77238 5.91377C1.60111 6.13336 1.5241 6.41198 1.55827 6.68836L1.85892 9.11984C1.95005 9.85683 2.33021 10.5274 2.91578 10.9841C3.50136 11.4408 4.24436 11.6462 4.98136 11.5551C5.71835 11.464 6.38896 11.0838 6.84566 10.4982C7.30235 9.91265 7.50773 9.16964 7.4166 8.43264L7.11595 6.00116C7.08178 5.72479 6.93921 5.47331 6.71962 5.30205C6.50004 5.13079 6.22141 5.05377 5.94503 5.08794L2.47149 5.51744Z"
            fill="#FFB61A"
          />
          <path
            d="M7.28492 1.9542C7.57785 1.59418 8.00179 1.36528 8.46349 1.31785C8.92519 1.27041 9.38682 1.40833 9.74684 1.70125C10.1068 1.99418 10.3357 2.41813 10.3832 2.87983C10.4306 3.34152 10.2927 3.80316 9.99978 4.16317C9.70685 4.52318 9.28291 4.75208 8.82121 4.79952C8.35951 4.84695 7.89788 4.70904 7.53786 4.41611C7.17785 4.12318 6.94895 3.69924 6.90151 3.23754C6.85408 2.77584 6.99199 2.31421 7.28492 1.9542Z"
            fill="#FFB61A"
          />
          <path
            d="M7.96449 9.88818C7.79911 10.3687 7.53086 10.8074 7.17846 11.1736C7.5488 11.2502 7.93082 11.251 8.30147 11.1759C8.67213 11.1008 9.02373 10.9515 9.33508 10.7368C9.64642 10.5221 9.91106 10.2466 10.113 9.92687C10.315 9.60713 10.4501 9.24979 10.5101 8.87642L10.7879 7.14848C10.8321 6.87361 10.7653 6.59243 10.6023 6.36678C10.4392 6.14113 10.1932 5.98947 9.91835 5.94515L7.81475 5.60677C7.84913 5.71771 7.87276 5.8335 7.88562 5.95415L8.13602 8.39132C8.18842 8.89681 8.12988 9.40765 7.96449 9.88818Z"
            fill="#FFB61A"
          />
        </svg>
      ),
      color: "#FFB61A",
    },
    low: {
      id: "LOW",
      img: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="15"
          height="14"
          viewBox="0 0 15 14"
          fill="none"
        >
          <path
            d="M7.01875 1.39734C6.4618 1.39734 5.92765 1.61859 5.53383 2.01241C5.14 2.40624 4.91875 2.94038 4.91875 3.49734C4.91875 4.05429 5.14 4.58844 5.53383 4.98226C5.92765 5.37609 6.4618 5.59734 7.01875 5.59734C7.57571 5.59734 8.10985 5.37609 8.50367 4.98226C8.8975 4.58844 9.11875 4.05429 9.11875 3.49734C9.11875 2.94038 8.8975 2.40624 8.50367 2.01241C8.10985 1.61859 7.57571 1.39734 7.01875 1.39734ZM5.26875 6.29734C4.99027 6.29734 4.7232 6.40796 4.52629 6.60488C4.32937 6.80179 4.21875 7.06886 4.21875 7.34734V9.79734C4.21875 10.5399 4.51375 11.2521 5.03885 11.7772C5.56395 12.3023 6.27614 12.5973 7.01875 12.5973C7.76136 12.5973 8.47355 12.3023 8.99865 11.7772C9.52375 11.2521 9.81875 10.5399 9.81875 9.79734V7.34734C9.81875 7.06886 9.70813 6.80179 9.51121 6.60488C9.3143 6.40796 9.04723 6.29734 8.76875 6.29734H5.26875Z"
            fill="#47B4D5"
          />
        </svg>
      ),
      color: "#46b4d5",
    },
  };

  const currentBadge =
    trafficBadgeMap[trafficStatus as keyof typeof trafficBadgeMap];
  const currentTxtColor = `text-[${currentBadge?.color ?? "gray-500"}}]`;

  if (!currentBadge) return null;

  return (
    <Badge
      shape="pill"
      className={clsx(
        "flex gap-1 p-2 border border-gray-200 bg-white",
        currentTxtColor
      )}
    >
      {currentBadge.img}
      <span className={clsx("text-xs", currentTxtColor)}>
        {currentBadge.id}
      </span>
    </Badge>
  );
}
